dia 2

# Organizar y processar los datos

El objetivo de este segundo día de trabajo en la actividad 2 era encontrar errores en los datos que hemos descargado de la AEMET. Para ello necesitamos generar un script que encuentre errores en los datos y los muestre por pantalla. Si no encuentra errores en nuestros ficheros, podemos modificar uno de los archivos .dat y simular un error en los datos para ver si nuestro script funciona.
Cuando detectemos un problema lo guardamos en un archivo de log.

## Errores encontrados 

P1 - Diciembre de 2006 solo contamos con datos de precipitaciones de 1 solo día y del resto no contamos con ningún dato. Por lo tanto faltan valores. 

> **Lectura de ficheros:** Nos tenemos que asegurar de que todos los ficheros tienen el mismo formato y que aparentemente són correctas. Ya que si hay algun error nuestro programa lo localizará para poder resolverlo facilmente.

## Paso 1

Podemos ver que los datos recolectados mediante la tarea 1 se dividen en las siguientes columnas:

| Dato 1 | Dato 2 | Dato 3 | Dato 4 | Dato 5 |
|--------|--------|--------|--------|--------|
| ID del pluviómetro | Año | Mes | Precip día 1 | Precipit día 2 ... |

> **⚠️ Dato -999 ⚠️** --> Sin datos registrados por error de parte de la estación meteorologica.
> **Precipitaciones** --> Las precipitaciones las mide en milímetros = litros por metro cuadrado. Los datos que tenemos por día reflejan cuánta lluvia ha registrado un pluviómetro cada día.

## Paso 2
Verificar que todos los archivos tienen el mismo formato.
Se puede realizar un script de validación básica que lea las primeras filas de cada archivo y determine el número de columnas y delimitadores. Los delimitadores son espacios. 
Hemos pedido que nos haga un script que nos muestre por pantalla el número colulmnas y de delimitadores que tiene cada documento.

## Paso 3
Limpieza de los datos.
Asegurar que los datos no contengan errores, valores que falten o inconsistencias:
Lectura: Utilizar pandas para gestionar los archivos y gestionar errores de lectura.
Verifica la consistencia de las columnas: Asegurar que los datos en cada columna tienen el tipo esperado (numérico, fecha, etc.).
Gestionar valores que faltan o corruptos: Identifica y trata datos nulos o valores atípicos.

## Paso 4 

Documenta todo el proceso por si tienes que repetirlo alguna vez.
Indica qué decisiones has tomado, qué has hecho con los valores nulos y cómo has solucionado inconsistencias.

### Decisiones tomadas 

Hemos tenido en cuenta que las dos primeras filas de cada “precipitación” siempre contienen la misma información pero con la diferencia de que estos datos pueden variar. A partir de la 3 fila la primera columna nos dirá el ID de la estación, la segunda columna nos indica el año del cual hará referencia y la tercera columna nos indica el mes del año, a continuación de estas columnas los datos nos indican las precipitaciones, también hay que tener en cuenta que los datos se encuentran separados por “ “. 
Al tener en cuenta los el cómo están estructurados los datos hemos creado un código en el cual



dia 3 
En el día de hoy hemos conseguido desarollar un codigo en python con el cual conseguimos validar los datos de las precipitaciones, a su vez no muestra en el propio terminal la cantidad de archivos procesados, las líneas de estos, los valores procesados incluyendo y exlcuyendo -999, el cual cuenta como dato nulo, por ultimo este nos mostrara el porcentaje de valores faltantes.


A su vez que nos muestra la validación de datos por el terminal nos creara dos log, uno recojera lo que nos mostro el terminal y el otro almacenara los errores que ha podido encontrar en los datos anteriores.


Para que el codigo consiga validar los datos hemos tenido en cuenta que el contenido del encabezado sea correcto, es decir, que este contenga en la primera fila precip(precipitaciones), MIROC5(modelo), RCP60(escenarios), Regresión(método) y decimas 1. La segunda línea tiene que contener el Identificador del pluviómetro y el primer año y el ultimo de los datos que consigue recolectar, aun no hemos conseguido que tenga en cuenta la latitud, longitud y la altura sobre el nivel del mar, después de validar el encabezado podemos comprobar que en todas las líneas a partir de la 3 el Identificador concuerda con el del encabezado. Las siguientes lineas tendran que contener 31 días es decir 34 columnas, los valores de estos no pueden tener letras a excepción del Identificador, la separación entre valores simplemente es con un espació

![Imagen](./E02/Imagen2.png){: width="100%" align="center" style="display: block; margin-left: auto; margin-right: auto;"}

![Imagen](./E02/Imagen1.png){: width="100%" align="center" style="display: block; margin-left: auto; margin-right: auto;"}

![Imagen](./E02/Imagen.png){: width="100%" align="center" style="display: block; margin-left: auto; margin-right: auto;"}

![Imagen](./E02/Imagen3.png){: width="100%" align="center" style="display: block; margin-left: auto; margin-right: auto;"}

![Imagen](./E02/Imagen4.png){: width="100%" align="center" style="display: block; margin-left: auto; margin-right: auto;"}

dia 4





[**Índice**](../README.md){: .btn .btn-primary .float-right}


